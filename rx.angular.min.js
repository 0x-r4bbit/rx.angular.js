(function(){function a(a){return"[object Function]"===j.call(a)}function b(){}var c={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},d=c[typeof window]&&window||this,e=c[typeof exports]&&exports&&!exports.nodeType&&exports,f=c[typeof module]&&module&&!module.nodeType&&module,g=(f&&f.exports===e&&e,c[typeof global]&&global);!g||g.global!==g&&g.window!==g||(d=g);var h=Rx.Observable,i=h.prototype,j={}.toString,k=angular.module("rx",[]);k.factory("rx",function(a){if(!a.Rx)throw new Error("Rx is not defined!");return a.Rx}),k.factory("observeOnScope",function(a){return function(b,c,d){return a.Observable.create(function(a){function e(b,c){a.onNext({oldValue:c,newValue:b})}return b.$watch(c,e,d)})}}),i.safeApply=function(c,d){return d=a(d)?d:b,this.doAction(function(a){c.$$phase||c.$root.$$phase?d(a):c.$apply(function(){d(a)})})},k.config(["$provide",function(a){a.decorator("$rootScope",["$delegate",function(a){return Object.defineProperty(a.constructor.prototype,"$toObservable",{value:function(a,b){var c=this;return Rx.Observable.create(function(d){function e(a,b){d.onNext({oldValue:b,newValue:a})}var f=c.$watch(a,e,b),g=Rx.Disposable.create(f);return c.$on("$destroy",function(){g.dispose()}),g})},enumerable:!1}),a}])}])}).call(this);